cmake_minimum_required(VERSION 3.13)

add_definitions( -DSQLITE_HAS_CODEC )

add_test_snippet(wallet_test wallet node mnemonic wallet wallet_client)
add_test_snippet(wallet_db_test wallet)
add_test_snippet(wallet_api_test wallet_api_proto)
add_test_snippet(wallet_assets_test core node wallet pow assets)
add_test_snippet(news_channels_test wallet_client node)
add_test_snippet(broadcasting_test wallet_client node)

if(BEAM_HW_WALLET)
    target_compile_definitions(wallet_test PRIVATE BEAM_HW_WALLET)
endif()

if (BEAM_ATOMIC_SWAP_SUPPORT)
    add_test_snippet(bitcoin_rpc_test swap)
    add_test_snippet(swap_test node swap http)
    add_test_snippet(swap_board_test wallet_client node)
    add_test_snippet(electrum_test swap)
    #add_test_snippet(ethereum_test swap)
endif()

if (BEAM_LASER_SUPPORT)
    add_test_snippet(laser_test_open node laser)
    add_test_snippet(laser_test_open_fail node laser)
    add_test_snippet(laser_test_close node laser)
    add_test_snippet(laser_test_drop node laser)
    add_test_snippet(laser_test_send node laser)
    add_test_snippet(laser_test_send_fail node laser)
    add_test_snippet(laser_test_listen_first node laser)
    add_test_snippet(laser_test_listen_second node laser)
    add_test_snippet(laser_test_auto_close node laser)
    add_test_snippet(laser_test_delete node laser)
endif()

if (BEAM_LELANTUS_SUPPORT)
    add_test_snippet(lelantus_test lelantus wallet node)
endif()

#add_executable(offline offline.cpp)
#target_link_libraries(offline node wallet)
